<!DOCTYPE html>
<head>
    <title>rixon.org</title>
    <meta charset="UTF-8">
    <style>
        * {padding:0;margin:0;border:0;outline:0;overflow:hidden}
        html, body, canvas { width:100%; height:100%; }
        canvas { display:block; background: white }

    </style>
</head>
<body>
<canvas id=c></canvas>
<script>
    var c = document.querySelector("#c");
    var x = c.getContext("2d");
    var w;
    var h;
    var frame;

    function nearestPow2( aSize ){
        return Math.pow( 2, Math.round( Math.log( aSize ) / Math.log( 2 ) ) );
    }

    function init() {
        w = c.width  = nearestPow2(window.innerWidth);
        h = c.height = nearestPow2(window.innerHeight);
        frame = 0;
        window.scroll(0, 0);
    }

    function R(r,g,b,a) {
        a = a === undefined ? 1 : a;
        return "rgba("+(r|0)+","+(g|0)+","+(b|0)+","+a+")";
    };

    function u() {
        x.globalCompositeOperation='xor';
        x.fillStyle=R(frame%170,0,frame%130);
        x.fillRect(frame%w,h-1,1,1);
        x.drawImage(c,-1,-1);
        x.drawImage(c,1,-1);
    }
    function loop() {
        frame++;
        u();
        requestAnimationFrame(loop);
    }
    window.onresize = init;
    init();
    loop();

</script>

</body>


