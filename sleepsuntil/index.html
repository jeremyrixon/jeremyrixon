<!DOCTYPE html>
<html lang="en" style="">
<head>
    <meta charset="UTF-8">
    <title>Sleeps Until Hugs And Kisses</title>
    <style>
        html, body{
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: white;
        }
        canvas {
            width: 100%;
            background: white;
        }
    </style>
</head>
<body id=b>
    <canvas id=c></canvas>

    <script>

        var c = document.querySelector("#c");
        c.width = 1920;
        c.height = 1080;
        var x = c.getContext("2d");
        var S = Math.sin;
        var C = Math.cos;
        var T = Math.tan;
        var FPS = 60.0;
        function R(r,g,b,a) {
            a = a === undefined ? 1 : a;
            return "rgba("+(r|0)+","+(g|0)+","+(b|0)+","+a+")";
        }
        var time = 0;
        var frame = 0;
        var nextFrameMs = 0;

        var now = new Date();
        now.setTime(Date.now()-3*3600);
        var sleeps = now.getDate() + 18;
        var txt1 = sleeps + " Sleeps Until"
        var txt2 = "Hugs And Kisses!"
        x.font = "32em impact";
        x.fillStyle = '#1032';
        var th = x.measureText("txt1").actualBoundingBoxAscent;
        console.log(th);

        function u(t) {
            U = 431;
            with (x) for ( Z = i = 100, fillText(txt1, 10, th+10, 1900), fillText(txt2, 10, th*2+80, 1900); i--; t += i % U ? 0 : 9) q = t % 4, Q = Z * (t >> 2), T = q * U * S(i), clearRect(S(i * i) * T + Q % 967 + U, U + Q % U + C(i * i) * T - q * 399 + q * q * U, f = 4 + i % 5, f);
        }

        function loop(frame_time) {

            requestAnimationFrame(loop);
            epsilon = 1.5; // Accounts for different timestamp resolution and slight jitter
            if (frame_time < nextFrameMs - epsilon) {
                return;  // Skip this cycle as we are animating too quickly.
            }
            nextFrameMs = Math.max(nextFrameMs + 1000 / FPS, frame_time);

            time = frame/FPS;
            if(time * FPS | 0 == frame - 1){
                time += 0.000001;
            }
            frame++;

            u(time);

        }
        loop(0.0);

    </script>
</body>
</html>